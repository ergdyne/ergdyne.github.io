(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports={container:"fields_container__1E8Zb",label:"fields_label__2ZHJD",textField:"fields_textField__1EM4s",radioNoWrap:"fields_radioNoWrap__GwVEq",radioOption:"fields_radioOption__2P4VG",radioToggle:"fields_radioToggle__2L57R",left:"fields_left__1C3eH"}},27:function(e,t,a){e.exports={section:"citizencard_section__jcf3v",name:"citizencard_name__2RzKv",score:"citizencard_score__zJg_7",item:"citizencard_item__3ryLV",citizen:"citizencard_citizen__OVY-8"}},42:function(e,t,a){e.exports={App:"app_App__2_Cd6",width25Percent:"app_width25Percent__2iD0f"}},45:function(e,t,a){e.exports={button:"movemodal_button__3RE2f"}},48:function(e,t,a){e.exports=a(67)},56:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),o=a(11),l=a.n(o),c=(a(56),a(3)),s=a(24),u={trainingOn:2,trainingOff:-1,matchesPosition:10,generalist:5,basicFacility:5,advancedFacility:10};!function(e){e.PointGuard="Point Guard",e.ShootingGuard="Shooting Guard",e.SmallForward="Small Forward",e.PowerForward="Power Forward",e.Center="Center",e.Generalist="Generalist"}(n||(n={}));var d,m=[n.Center,n.Generalist,n.PointGuard,n.PowerForward,n.ShootingGuard,n.SmallForward],f=m.filter(function(e){return e!==n.Generalist}).map(function(e){return{label:e,value:e}});!function(e){e.Labor="Labor",e.Scavenger="Scavenger",e.Training="Training"}(d||(d={}));var v=[d.Labor,d.Scavenger,d.Training].map(function(e){return{label:e,value:e}}),b=100,g=a(16),E=a.n(g),p=function(e){var t=e.option,a=e.value,n=e.onChange,o=e.preferedValue,l=e.disabled,c=Object(i.useCallback)(function(){n(t.value)},[t,n]),u=t.value===a,d=u?"warning":o===t.value?"secondary":"dark";return r.a.createElement(s.a,{className:E.a.radioToggle,onClick:c,disabled:u||l,variant:d},t.label)},C=function(e){var t=e.value,a=e.options,n=e.onChange,i=e.disabled,o=e.label,l=e.inline,c=e.preferedValue;return r.a.createElement("div",{className:"".concat(E.a.container," ").concat(E.a.radioNoWrap," ").concat(l?E.a.left:"")},o?r.a.createElement("div",{className:E.a.label},o):r.a.createElement(r.a.Fragment,null),a.map(function(e){return r.a.createElement(p,{key:e.value,option:e,value:t,onChange:n,disabled:i,preferedValue:c})}))},h=a(72),O=a(73),N=a(74),S=a(45),z=a.n(S);function A(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=(a[0],a[1]),o=function(){return n(!0)},l=e.show,u=e.citizen,d=e.excludeDismiss,m=e.districtNames,f=e.move,v=e.handleClose,b=e.currentDistrict,g=function(){n(!1),v()};return r.a.createElement(N.a,{show:l,onHide:v},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,null,"Select Destination for ".concat(u.name))),r.a.createElement(N.a.Body,null,Array.from(m).filter(function(e){var t=Object(c.a)(e,2),a=t[0];t[1];return a!==b}).map(function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:z.a.button,key:n},r.a.createElement(s.a,{onClick:function(){o(),f(n),g()},variant:"warning"},"District ".concat(a)))}),d?r.a.createElement(r.a.Fragment,null):r.a.createElement(s.a,{onClick:function(){o(),f(null),g()},variant:"danger"},"Dismiss Citizen")),r.a.createElement(N.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:v},"Back")))}var R=a(27),P=a.n(R);function _(e){return e==n.Generalist?"any position":e}function k(e){var t=e.citizen,a=e.update,o=e.disabled,l=e.move,u=e.districtNames,d=e.district,m=Object(i.useState)(!1),g=Object(c.a)(m,2),E=g[0],p=g[1],N=Object(i.useCallback)(function(){p(!0)},[E,p]),S=Object(i.useCallback)(function(){p(!1)},[E,p]),z=Object(i.useCallback)(function(e){t.assignedPosition=e,a&&a(t)},[a,t]),R=Object(i.useCallback)(function(e){t.assignment=e,a&&a(t)},[a,t]);return r.a.createElement("div",{className:P.a.citizen},r.a.createElement("div",{className:P.a.section},r.a.createElement(O.a,{placement:"right",delay:{show:250,hide:400},overlay:function(e){return r.a.createElement(h.a,e," ",function(e){var t="";return e.assignedPosition?(t+="They are playing ".concat(e.assignedPosition,", "),(e.assignedPosition==e.preferredPosition||e.preferredPosition==n.Generalist)&&e.basketBallAptitude>.5*b?t+="and ":t+="but ",e.basketBallAptitude>.5*b?t+="they prefer playing ".concat(e.preferredPosition):t+="they would rather not."):(t+="They are currently working in ".concat(e.assignment,". "),e.basketBallAptitude>.5*b?t+="They would prefer to be playing ".concat(_(e.preferredPosition),"."):t+="They could play ".concat(_(e.preferredPosition),", but would rather not.")),t}(t)," ")}},r.a.createElement(s.a,{className:P.a.name,variant:"dark"}," ",t.name," ")),r.a.createElement(s.a,{className:P.a.score,variant:"dark"},t.basketBallAptitude),r.a.createElement(s.a,{onClick:N,className:P.a.item,variant:"warning"},"Move")),r.a.createElement(C,{options:v,onChange:R,disabled:o,inline:!0,value:t.assignment}),r.a.createElement(C,{options:f,onChange:z,disabled:o,inline:!0,value:t.assignedPosition,preferedValue:t.preferredPosition}),r.a.createElement(A,{show:E,citizen:t,excludeDismiss:!a,districtNames:u,move:l,handleClose:S,currentDistrict:d?d.name:void 0}))}function w(e){var t=e.district,a=e.citizens,i=e.updateCitizen,o=e.disabled,l=e.districtNames,c=e.moveCitizen,s=a.map(function(e){var t=0;return e.assignedPosition&&(t+=e.basketBallAptitude,e.assignedPosition===e.preferredPosition&&(t+=u.matchesPosition),e.preferredPosition===n.Generalist&&(t+=u.matchesPosition),e.trainingValue&&(t+=e.trainingValue)),t}).reduce(function(e,t){return e+t});return r.a.createElement("div",null,r.a.createElement("br",null),t?r.a.createElement("h4",null,"District ".concat(t.name," | Last Round Score: ").concat(s)):r.a.createElement("div",null),a.map(function(e,a){return r.a.createElement(k,{key:a,citizen:e,district:t,update:i,disabled:o||!i,move:function(t){return c(e,t)},districtNames:l})}))}function M(e){var t=e.draftResults,a=e.updateCitizen,n=e.disabled,o=e.moveCitizen,l=e.districtNames;return r.a.createElement("div",null,t.map(function(e,t){var c=e.citizens,s=Object(i.useCallback)(function(e){a(t,e)},[c,t]);return r.a.createElement(w,{key:t,citizens:c,district:e,updateCitizen:s,disabled:n,districtNames:l,moveCitizen:function(e,a){return o(t,e,a)}})}))}var j=function(e){var t=e.label,a=e.value,n=e.disabled,i=e.onChange;return r.a.createElement("div",{className:E.a.container},r.a.createElement("div",{className:E.a.label},t),r.a.createElement("input",{type:"text",className:E.a.textField,disabled:n,value:a,onChange:i}))};function L(e){var t=e.values;return r.a.createElement("div",null,t.map(function(e,t){return r.a.createElement(s.a,{key:t,variant:t%2==0?"light":"dark"}," ",e," ")}))}function y(e){return e[Math.floor(Math.random()*e.length)]}var T="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var I=["SMITH","JOHNSON","WILLIAMS","JONES","BROWN","DAVIS","MILLER","WILSON","MOORE","TAYLOR","ANDERSON","THOMAS","JACKSON","WHITE","HARRIS","MARTIN","THOMPSON","GARCIA","MARTINEZ","ROBINSON","CLARK","RODRIGUEZ","LEWIS","LEE","WALKER","HALL","ALLEN","YOUNG","HERNANDEZ","KING","WRIGHT","LOPEZ","HILL","SCOTT","GREEN","ADAMS","BAKER","GONZALEZ","NELSON","CARTER","MITCHELL","PEREZ","ROBERTS","TURNER","PHILLIPS","CAMPBELL","PARKER","EVANS","EDWARDS","COLLINS","STEWART","SANCHEZ","MORRIS","ROGERS","REED","COOK","MORGAN","BELL","MURPHY","BAILEY","RIVERA","COOPER","RICHAR"],G=function(e){for(var t=new Set;t.size<e;){var a=y(I),n=T.charAt(Math.floor(Math.random()*T.length));t.add("".concat(n,". ").concat(a))}return Array.from(t)};function x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=G(e).map(function(e){return{name:e,basketBallAptitude:Math.ceil(Math.random()*b),preferredPosition:y(m),assignment:d.Labor,trainingValue:0}});return t&&a.sort(function(e,t){return t.basketBallAptitude-e.basketBallAptitude}),a}var B=20,D=40,H=16,V=10,F=50,W="GAME_DATA",Z=(new Map,new Map);function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F,r=function(e,t){for(var a=x(e*t),n=[],i=0;i<e;i++)n.push([]);for(var r=0;r<t;){if(r%2==0)for(var o=0;o<e;o++)n[o].push(a[r*e+o]);else for(var l=0,c=e-1;c>=0;c--)n[c].push(a[r*e+l]),l++;r++}return n.map(function(e,t){return a=e,{name:"".concat(t+137),citizens:a,facilities:{advancedTraining:!1}};var a})}(a,n),o=function(e,t){for(var a=[],n=0;a.length<e;)n+=Math.ceil(Math.random()*t),a.push(n);return a}(e,t),l=x(i,!1),c=r.map(function(e){return new Map(Z)}),s=new Map;return r.forEach(function(e,t){return s.set(e.name,t)}),U({draft:r,rosters:c,scavengerNumbers:o,extraCitizens:l,scoutNumbers:e,scoutMax:t,governors:a,initialCitizens:n,additionalCitizens:i,round:0,districtNames:s})}function K(){var e=localStorage.getItem(W),t=e?JSON.parse(e):J();return t.districtNames=new Map(Object.entries(t.districtNames)),t.rosters=t.rosters.map(function(e){return new Map(Object.entries(e))}),t}function Y(){var e=K();return J(e.scoutNumbers,e.scoutMax,e.governors,e.initialCitizens,e.additionalCitizens)}function U(e){var t=e;return t.rosters=e.rosters.map(function(e){return Object.fromEntries(e)}),t.districtNames=Object.fromEntries(e.districtNames),localStorage.setItem(W,JSON.stringify(t)),e.rosters=e.rosters.map(function(e){return new Map(Object.entries(e))}),e.districtNames=new Map(Object.entries(e.districtNames)),e}function q(e,t){return function(e,t,a){if(e.draft.length<=t)return console.log("Error updatePositionAssignment: invalid district ",t,e),e;if(!e.rosters||e.rosters.length<=t)return console.log("Error updatePositionAssignment: no rosters",t,e),e;for(var n=e.draft[t].citizens,i=e.rosters[t],r=a.assignedPosition,o=r?i.get(r):void 0,l=0;l<n.length;l++)if(o&&o.name&&n[l].name===o.name&&(n[l].assignedPosition=void 0),n[l].name===a.name){var c=n[l].assignedPosition;c&&a.assignedPosition!==c&&i.set(c,null),n[l]=a}return r&&i.set(r,a),U(e)}(K(),e,t)}function Q(e,t,a){var n=K();if(null===e){var i=n.extraCitizens;n.extraCitizens=i.filter(function(e){return e.name!==t.name})}else{var r=n.draft[e].citizens;if(n.draft[e].citizens=r.filter(function(e){return e.name!==t.name}),t.assignedPosition){var o=n.rosters[e];o.set(t.assignedPosition,null),n.rosters[e]=o}}if(null!==a){var l=n.draft[a].citizens;l.push(t),l.sort(function(e,t){return t.basketBallAptitude-e.basketBallAptitude}),n.draft[a].citizens=l}return U(n)}Z.set(n.Center,null);var X=a(42),$=a.n(X);function ee(e,t,a,n){return Object(i.useCallback)(function(i){e!==i.target.value&&t(i.target.value);var r=Number(i.target.value);Number.isInteger(r)&&r>0&&(a(r),n())},[e,t,a,n])}var te=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(i.useState)(!1),l=Object(c.a)(o,2),m=l[0],f=l[1],v=Object(i.useState)(K()),b=Object(c.a)(v,2),g=b[0],E=b[1],p=Object(i.useState)(g.scoutNumbers.toString()),C=Object(c.a)(p,2),N=C[0],S=C[1],z=Object(i.useState)(g.scoutMax.toString()),A=Object(c.a)(z,2),R=A[0],P=A[1],_=Object(i.useState)(g.governors.toString()),k=Object(c.a)(_,2),y=k[0],T=k[1],I=Object(i.useState)(g.initialCitizens.toString()),G=Object(c.a)(I,2),B=G[0],D=G[1],H=Object(i.useState)(g.additionalCitizens.toString()),V=Object(c.a)(H,2),F=V[0],W=V[1],Z=Object(i.useCallback)(function(){f(!0),E(Y()),f(!1)},[Y]),J=Object(i.useCallback)(function(e,t){f(!0),E(q(e,t)),f(!1)},[g]),X=Object(i.useCallback)(function(e,t,a){f(!0),E(Q(e,t,a)),f(!1)},[Q]),te=Object(i.useCallback)(function(){f(!0),E(function(){for(var e=K(),t=0;t<e.draft.length;t++)for(var a=e.draft[t].facilities.advancedTraining?u.advancedFacility:u.basicFacility,n=0;n<e.draft[t].citizens.length;n++){var i=e.draft[t].citizens[n],r=i.trainingValue;r=i.assignment===d.Training?Math.min(a,r+u.trainingOn):Math.max(0,r+u.trainingOff),e.draft[t].citizens[n].trainingValue=r}return e.extraCitizens.length<e.additionalCitizens&&x(e.additionalCitizens-e.extraCitizens.length,!1).forEach(function(t){return e.extraCitizens.push(t)}),e.round+=1,U(e)}()),f(!1)},[g]);function ae(){f(!0),E(U(g)),f(!1)}var ne=ee(N,S,function(e){g.scoutNumbers=e},ae),ie=ee(R,P,function(e){g.scoutMax=e},ae),re=ee(y,T,function(e){g.governors=e},ae),oe=ee(B,D,function(e){g.initialCitizens=e},ae),le=ee(F,W,function(e){g.additionalCitizens=e},ae),ce=Object(i.useCallback)(function(){return n(!a)},[a,n]);return r.a.createElement("div",{className:$.a.App},r.a.createElement("h3",null,"Configuration - Scroll to bottom to reset"),r.a.createElement(j,{label:"Total Scavenger Values",value:N,onChange:ne,disabled:m}),r.a.createElement(j,{label:"Max Scavenger Value",value:R,onChange:ie,disabled:m}),r.a.createElement(j,{label:"Governors",value:y,onChange:re,disabled:m}),r.a.createElement(j,{label:"Initial Citizens per Governor",value:B,onChange:oe,disabled:m}),r.a.createElement(j,{label:"Total Additional Citizens",value:F,onChange:le,disabled:m}),r.a.createElement("h3",null,"Current Round is ".concat(g.round)),r.a.createElement("div",{className:$.a.width25Percent},r.a.createElement(s.a,{variant:"warning",disabled:m,onClick:te},"Progress Round")),r.a.createElement("h3",null,"Scavenger Values"),r.a.createElement(L,{values:g.scavengerNumbers||[]}),r.a.createElement("br",null),r.a.createElement("h3",null,"Draft Results"),r.a.createElement(M,{draftResults:g.draft,updateCitizen:J,districtNames:g.districtNames,disabled:m,moveCitizen:X}),r.a.createElement("br",null),r.a.createElement("h3",null,"Additional Citizens"),r.a.createElement(w,{citizens:g.extraCitizens,districtNames:g.districtNames,moveCitizen:function(e,t){return X(null,e,t)}}),r.a.createElement(O.a,{placement:"top",overlay:function(e){return r.a.createElement(h.a,e," ",r.a.createElement("div",null,r.a.createElement("h1",null,"Are you sure you want to Reset?"),r.a.createElement("h3",null,"All data will be lost"),r.a.createElement(s.a,{variant:"danger",onClick:Z},"Yes, Reset the Game"))," ")}},r.a.createElement(s.a,{disabled:m,variant:"warning",onClick:ce},"Reset Game")))};a(65);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root"))}},[[48,2,1]]]);
//# sourceMappingURL=main.a090ddd1.chunk.js.map